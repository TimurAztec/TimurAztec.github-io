{"version":3,"sources":["music-player.js","settings.js"],"names":["playerState","soundVolume","musicVolume","currentTrack","undefined","playMainMenuMusic","stopMusic","trackNumber","Math","round","random","document","getElementsByClassName","length","onended","play","playGameMusic","pause","currentTime","setSettings","elements","i","volume","getElementById","value","onchange","e","target","localStorage","setItem","JSON","stringify","loadSettings","getItem","parse"],"mappings":";AA8DC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,kBAAA,EAAA,QAAA,cAAA,EAAA,QAAA,UAAA,EAAA,QAAA,YAAA,EA9DD,IAAIA,EAAc,CACdC,YAAa,EACbC,YAAa,EACbC,kBAAcC,GAGlB,SAASC,SAC4BD,IAA7BJ,EAAYG,cAA8BG,IACtCC,IAAAA,EAAcC,KAAKC,MAAMD,KAAKE,SAAWC,SAASC,uBAAuB,cAAcC,QACvFN,EAAc,IAAKA,GAAe,GACtCP,EAAYG,aAAeQ,SAASC,uBAAuB,cAAcL,GACzEP,EAAYG,aAAaW,QAAU,WAAQT,KAC3CL,EAAYG,aAAaY,OAGjC,SAASC,SAC4BZ,IAA7BJ,EAAYG,cAA8BG,IACtCC,IAAAA,EAAcC,KAAKC,MAAMD,KAAKE,SAAWC,SAASC,uBAAuB,cAAcC,QACvFN,EAAc,IAAKA,GAAe,GACtCP,EAAYG,aAAeQ,SAASC,uBAAuB,cAAcL,GACzEP,EAAYG,aAAaW,QAAU,WAAQE,KAC3ChB,EAAYG,aAAaY,OAGjC,SAAST,SAC4BF,IAA7BJ,EAAYG,eAA8BH,EAAYG,aAAac,QAASjB,EAAYG,aAAae,YAAc,GAwB3H,SAASC,EAAYjB,EAAaD,GAC9BD,EAAYE,YAAcA,EAC1BF,EAAYC,YAAcA,EAErB,IADDmB,IAAAA,EAAWT,SAASC,uBAAuB,SACtCS,EAAE,EAAIA,EAAID,EAASP,OAASQ,IACjCD,EAASC,GAAGC,OAAStB,EAAYC,YAErCU,SAASY,eAAe,gBAAgBC,MAAkC,GAA1BxB,EAAYE,YAC5DkB,EAAWT,SAASC,uBAAuB,SACtC,IAAA,IAAIS,EAAE,EAAIA,EAAID,EAASP,OAASQ,IACjCD,EAASC,GAAGC,OAAStB,EAAYC,YAErCU,SAASY,eAAe,gBAAgBC,MAAkC,GAA1BxB,EAAYC,YAjChEU,SAASY,eAAe,gBAAgBE,SAAW,SAACC,GAChD1B,EAAYE,YAA+B,GAAjBwB,EAAEC,OAAOH,MAE9B,IADDJ,IAAAA,EAAWT,SAASC,uBAAuB,SACtCS,EAAE,EAAIA,EAAID,EAASP,OAASQ,IACjCD,EAASC,GAAGC,OAAStB,EAAYE,YAErC0B,aAAaC,QAAQ,cAAeC,KAAKC,UAAU/B,EAAYE,cAC/D0B,aAAaC,QAAQ,cAAeC,KAAKC,UAAU/B,EAAYE,eAGnES,SAASY,eAAe,gBAAgBE,SAAW,SAACC,GAChD1B,EAAYC,YAA+B,GAAjByB,EAAEC,OAAOH,MAE9B,IADDJ,IAAAA,EAAWT,SAASC,uBAAuB,SACtCS,EAAE,EAAIA,EAAID,EAASP,OAASQ,IACjCD,EAASC,GAAGC,OAAStB,EAAYC,YAErCU,SAASY,eAAe,cAAcR,OACtCa,aAAaC,QAAQ,cAAeC,KAAKC,UAAU/B,EAAYE,cAC/D0B,aAAaC,QAAQ,cAAeC,KAAKC,UAAU/B,EAAYC;;ACnClE,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAXD,IAAA,EAAA,QAAA,kBAMA,SAAS+B,IACDJ,aAAaK,QAAQ,UAAUtB,SAASY,eAAe,cAAcC,MAAQI,aAAaK,QAAQ,SAClGL,aAAaK,QAAQ,gBAAkBL,aAAaK,QAAQ,iBAChDH,EAAAA,EAAAA,aAAAA,KAAKI,MAAMN,aAAaK,QAAQ,gBAAiBH,KAAKI,MAAMN,aAAaK,QAAQ,iBAPrGtB,SAASY,eAAe,cAAcE,SAAW,SAACC,GAC9CE,aAAaC,QAAQ,OAAQH,EAAEC,OAAOH","file":"settings.7eb4058e.js","sourceRoot":"..","sourcesContent":["let playerState = {\r\n    soundVolume: 1,\r\n    musicVolume: 1,\r\n    currentTrack: undefined,\r\n}\r\n\r\nfunction playMainMenuMusic() {\r\n    if (playerState.currentTrack !== undefined) { stopMusic(); }\r\n        let trackNumber = Math.round(Math.random() * document.getElementsByClassName('music-menu').length);\r\n        if (trackNumber > 0) { trackNumber -= 1; }\r\n        playerState.currentTrack = document.getElementsByClassName('music-menu')[trackNumber];\r\n        playerState.currentTrack.onended = () => { playMainMenuMusic(); }\r\n        playerState.currentTrack.play();\r\n}\r\n\r\nfunction playGameMusic() {\r\n    if (playerState.currentTrack !== undefined) { stopMusic(); }\r\n        let trackNumber = Math.round(Math.random() * document.getElementsByClassName('music-game').length);\r\n        if (trackNumber > 0) { trackNumber -= 1; }\r\n        playerState.currentTrack = document.getElementsByClassName('music-game')[trackNumber];\r\n        playerState.currentTrack.onended = () => { playGameMusic(); }\r\n        playerState.currentTrack.play();\r\n}\r\n\r\nfunction stopMusic() {\r\n    if (playerState.currentTrack !== undefined) { playerState.currentTrack.pause(); playerState.currentTrack.currentTime = 0; }\r\n}\r\n\r\ndocument.getElementById('music-volume').onchange = (e) => {\r\n    playerState.musicVolume = e.target.value * 0.1;\r\n    let elements = document.getElementsByClassName('music');\r\n    for (let i=0 ; i < elements.length ; i++) {\r\n        elements[i].volume = playerState.musicVolume;\r\n    }\r\n    localStorage.setItem('musicVolume', JSON.stringify(playerState.musicVolume));\r\n    localStorage.setItem('soundVolume', JSON.stringify(playerState.musicVolume));\r\n}\r\n\r\ndocument.getElementById('sound-volume').onchange = (e) => {\r\n    playerState.soundVolume = e.target.value * 0.1;\r\n    let elements = document.getElementsByClassName('sound');\r\n    for (let i=0 ; i < elements.length ; i++) {\r\n        elements[i].volume = playerState.soundVolume;\r\n    }\r\n    document.getElementById('audio-hit1').play();\r\n    localStorage.setItem('musicVolume', JSON.stringify(playerState.musicVolume));\r\n    localStorage.setItem('soundVolume', JSON.stringify(playerState.soundVolume));\r\n}\r\n\r\nfunction setSettings(musicVolume, soundVolume) {\r\n    playerState.musicVolume = musicVolume;\r\n    playerState.soundVolume = soundVolume;\r\n    let elements = document.getElementsByClassName('music');\r\n    for (let i=0 ; i < elements.length ; i++) {\r\n        elements[i].volume = playerState.soundVolume;\r\n    }\r\n    document.getElementById('music-volume').value = playerState.musicVolume * 10;\r\n    elements = document.getElementsByClassName('sound');\r\n    for (let i=0 ; i < elements.length ; i++) {\r\n        elements[i].volume = playerState.soundVolume;\r\n    }\r\n    document.getElementById('sound-volume').value = playerState.soundVolume * 10;\r\n}\r\n\r\nexport {playMainMenuMusic, playGameMusic, stopMusic, setSettings}\r\n","import {setSettings} from \"./music-player\";\r\n\r\ndocument.getElementById('name-input').onchange = (e) => {\r\n    localStorage.setItem('name', e.target.value);\r\n}\r\n\r\nfunction loadSettings() {\r\n    if (localStorage.getItem('name')) {document.getElementById('name-input').value = localStorage.getItem('name');}\r\n    if (localStorage.getItem('musicVolume') && localStorage.getItem('soundVolume')) {\r\n        setSettings(JSON.parse(localStorage.getItem('musicVolume')), JSON.parse(localStorage.getItem('soundVolume')));\r\n    }\r\n}\r\n\r\nexport {loadSettings}\r\n"]}